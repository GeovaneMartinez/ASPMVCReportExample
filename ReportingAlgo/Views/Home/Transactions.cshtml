@model IEnumerable<ReportingAlgo.TradeResults>
@{
    ViewBag.Title = "Transactions";
}

<div></div>
@Html.ActionLink("Actual Transactions", "Index", "Actual")
<br />

<table>
    <tr>
        <th style="width: 150px;">Date</th>
        <th style="width: 150px;">Strategy</th>
        <th style="width: 80px;">Shares</th>
        <th style="width: 80px;">StartPrice</th>
        <th style="width: 80px;">EndPrice</th>
        <th style="width: 80px;">Percentage</th>
        <th style="width: 40px;">P\L</th>
    </tr>
    @foreach (var item in Model)
    {
        <tr>
            <td style="width: 150px;">@item.Date</td>
            <td>@item.Strategy</td>
            <td>@item.Shares</td>
            <td>@item.StartingPrice</td>
            <td>@item.EndingPrice</td>
            <td>@item.Percentage</td>
            <td>@item.ProfitLoss.ToString("0.00")</td>
        </tr>
    }
    <tr>
        <td style="width: 100px;"></td>
        <td style="width: 100px;"></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td style="border-top: 1px solid black;">@ViewBag.Total.ToString("0.00")</td>
    </tr>
</table>



<script src="~/Scripts/LineChart.js"></script>
<div id="chart_div"></div>

<br />
<br />

<script type="text/javascript">

    google.charts.load('current', { packages: ['corechart', 'line'] });
    google.charts.setOnLoadCallback(drawBasic);

    function drawBasic() {

        var data = new google.visualization.DataTable();
        data.addColumn('number', 'X');
        data.addColumn('number', 'Cash');

        data.addRows([

            @ViewBag.JsonChartData

        ]);

        var options = {
            hAxis: {
                title: 'Num of Trades'
            },
            vAxis: {
                title: 'Equity'
            }
        };

        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));

        chart.draw(data, options);
    }


</script>

